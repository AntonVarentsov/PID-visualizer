{
  "master": {
    "tasks": [
      {
        "id": 3,
        "title": "Setup Project Environment",
        "description": "Initialize the project with necessary libraries and tools for development.",
        "details": "Set up a new React project using Create React App. Install necessary libraries including react-pdf-viewer, pdf.js, fabric.js, FastAPI, and PostgreSQL. Configure ESLint and Prettier for code quality.",
        "testStrategy": "Verify that all libraries are correctly installed and the project builds successfully.",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 4,
        "title": "Implement File Watcher Service",
        "description": "Develop a Node.js service to monitor the /data directory for new PDF and JSON files.",
        "details": "Use Node.js fs module to watch the /data directory. On detecting new files, update the documents table in PostgreSQL with file metadata.",
        "testStrategy": "Test by adding new files to the /data directory and verify that entries are created in the database.",
        "priority": "medium",
        "dependencies": [
          3
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 5,
        "title": "Parse JSON for Bounding Boxes",
        "description": "Create a FastAPI endpoint to parse JSON files and extract bounding box data.",
        "details": "Develop a FastAPI endpoint that reads JSON files, extracts bounding box data, and normalizes it for rendering. Store this data in the line_numbers table.",
        "testStrategy": "Unit test the endpoint with sample JSON files to ensure correct extraction and normalization of bounding box data.",
        "priority": "medium",
        "dependencies": [
          4
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 6,
        "title": "Render PDF with Annotations",
        "description": "Use react-pdf-viewer and fabric.js to render PDFs with blue bounding boxes for line numbers.",
        "details": "Integrate react-pdf-viewer to display PDFs. Overlay fabric.js canvas to draw blue bounding boxes based on bounding box data from the database.",
        "testStrategy": "Render a sample PDF and verify that all line numbers are correctly highlighted with blue boxes.",
        "priority": "high",
        "dependencies": [
          5
        ],
        "status": "in-progress",
        "subtasks": [
          {
            "id": 1,
            "title": "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ PDF",
            "description": "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è PDF-—Ñ–∞–π–ª–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ @react-pdf-viewer/core.",
            "details": "",
            "status": "done",
            "dependencies": [],
            "parentTaskId": 6
          },
          {
            "id": 2,
            "title": "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Fabric.js –¥–ª—è —Å–ª–æ—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π",
            "description": "–î–æ–±–∞–≤–∏—Ç—å canvas-—ç–ª–µ–º–µ–Ω—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Fabric.js –ø–æ–≤–µ—Ä—Ö PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ —Ä–∞–∑–º–µ—Ä—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω–æ–π PDF-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.",
            "details": "",
            "status": "done",
            "dependencies": [],
            "parentTaskId": 6
          },
          {
            "id": 3,
            "title": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤",
            "description": "–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ –Ω–∞ —Ö–æ–ª—Å—Ç–µ Fabric.js —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏.",
            "details": "",
            "status": "done",
            "dependencies": [],
            "parentTaskId": 6
          }
        ]
      },
      {
        "id": 7,
        "title": "Implement Line Number List and Interaction",
        "description": "Display a list of line numbers and enable interaction to highlight corresponding boxes on the PDF.",
        "details": "Create a React component to list line numbers. Implement hover and click interactions to highlight corresponding bounding boxes on the PDF.",
        "testStrategy": "Test interactions by hovering and clicking on list items and verifying the correct boxes are highlighted.",
        "priority": "medium",
        "dependencies": [
          6
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 8,
        "title": "Develop Modal for Line Number Editing",
        "description": "Create a modal dialog for editing line numbers with validation and database update.",
        "details": "Use shadcn/ui Dialog to create a modal for editing line numbers. Implement validation using RegEx and update changes to the database via a PATCH API call.",
        "testStrategy": "Test the modal by editing line numbers and verifying that changes are correctly validated and saved to the database.",
        "priority": "medium",
        "dependencies": [
          7
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 9,
        "title": "Implement WebSocket for Real-time Updates",
        "description": "Enable real-time updates for line number changes using WebSocket.",
        "details": "Set up a WebSocket server with FastAPI to push updates to clients when line numbers are edited. Ensure multiple clients can receive updates simultaneously.",
        "testStrategy": "Simulate multiple clients editing line numbers and verify that all clients receive real-time updates.",
        "priority": "medium",
        "dependencies": [
          8
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 10,
        "title": "Optimize UI Performance",
        "description": "Ensure the UI meets performance requirements for latency and responsiveness.",
        "details": "Implement debouncing for PATCH requests and optimize rendering performance to meet the latency requirement of ‚â§ 200 ms.",
        "testStrategy": "Measure UI latency during interactions and ensure it meets the specified performance criteria.",
        "priority": "medium",
        "dependencies": [
          9
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 11,
        "title": "Implement Security Features",
        "description": "Add security measures including JWT authentication and CORS configuration.",
        "details": "Configure JWT authentication for API endpoints. Set up CORS policies and render PDFs in an iframe sandbox with 'allow-scripts'.",
        "testStrategy": "Test security features by attempting unauthorized access and ensuring proper authentication and CORS policies are enforced.",
        "priority": "medium",
        "dependencies": [
          10
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 12,
        "title": "Internationalize the UI",
        "description": "Translate the UI to Russian and ensure proper font rendering.",
        "details": "Use i18n libraries to translate the UI text to Russian. Ensure fonts are correctly loaded and rendered using the Inter font family.",
        "testStrategy": "Verify that all UI elements are correctly translated and rendered in Russian.",
        "priority": "low",
        "dependencies": [
          11
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 13,
        "title": "Implement PDF Annotation Export",
        "description": "Enable exporting of annotations to a PDF file for offline use.",
        "details": "Use pdf-lib to export annotations as a new layer in the PDF. Provide an option to download the annotated PDF for offline use.",
        "testStrategy": "Test the export functionality by exporting a PDF and verifying that annotations are correctly included.",
        "priority": "low",
        "dependencies": [
          12
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 14,
        "title": "Setup Database and API Infrastructure",
        "description": "Configure PostgreSQL database and FastAPI for handling document and line number data.",
        "details": "Set up PostgreSQL with the provided schema. Implement FastAPI endpoints for document and line number management.",
        "testStrategy": "Test database operations and API endpoints to ensure data is correctly stored and retrieved.",
        "priority": "high",
        "dependencies": [
          3
        ],
        "status": "done",
        "subtasks": [
          {
            "id": 1,
            "title": "–°–æ–∑–¥–∞—Ç—å Pydantic-—Å—Ö–µ–º—ã –¥–ª—è API",
            "description": "–°–æ–∑–¥–∞—Ç—å Pydantic-—Å—Ö–µ–º—ã –≤ —Ñ–∞–π–ª–µ schemas.py –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Å—Ç—É–ø–∞—é—â–∏—Ö –≤ API –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∏–∑ –Ω–µ–≥–æ. –ù—É–∂–Ω—ã —Å—Ö–µ–º—ã –¥–ª—è Document –∏ LineNumber.",
            "details": "",
            "status": "done",
            "dependencies": [],
            "parentTaskId": 14
          },
          {
            "id": 2,
            "title": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î",
            "description": "–í —Ñ–∞–π–ª–µ crud.py —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π Document –∏ LineNumber –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.",
            "details": "",
            "status": "done",
            "dependencies": [
              "14.1"
            ],
            "parentTaskId": 14
          },
          {
            "id": 3,
            "title": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç GET /doc/:id",
            "description": "–í —Ñ–∞–π–ª–µ main.py —Å–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å ID –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –µ–≥–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º line numbers.",
            "details": "",
            "status": "done",
            "dependencies": [
              "14.2"
            ],
            "parentTaskId": 14
          },
          {
            "id": 4,
            "title": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç PATCH /line/:id",
            "description": "–í —Ñ–∞–π–ª–µ main.py —Å–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏ line number. –û–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å ID –∏ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–µ–∫—Å—Ç, —Å—Ç–∞—Ç—É—Å).",
            "details": "",
            "status": "done",
            "dependencies": [
              "14.2"
            ],
            "parentTaskId": 14
          }
        ]
      },
      {
        "id": 15,
        "title": "Refactor Data Model and Processing for Piping Line Numbers",
        "description": "Rename the line_numbers table to ocr_results, create a new line_numbers table, and develop a script to populate it from a ground-truth file.",
        "details": "Begin by renaming the existing 'line_numbers' table in the database to 'ocr_results' to better reflect its purpose of storing OCR data. Next, create a new 'line_numbers' table with the appropriate schema to store line numbers separately. This table should include fields such as 'line_id', 'document_id', 'line_number', and any other necessary metadata. Develop a script to read from a ground-truth file, which contains the correct line numbers, and populate the new 'line_numbers' table with this data. Ensure the script handles various file formats (e.g., CSV, JSON) and includes error handling for data inconsistencies. Update any existing database queries and API endpoints to reflect these changes.",
        "testStrategy": "Verify the renaming of the table by checking the database schema. Test the creation of the new 'line_numbers' table by inserting sample data and querying it. Run the script with a sample ground-truth file and check that the data is correctly inserted into the 'line_numbers' table. Ensure that any API endpoints or database queries that previously used the 'line_numbers' table are updated and functioning correctly. Validate the script's error handling by providing malformed or incomplete ground-truth files and observing the error messages.",
        "status": "pending",
        "dependencies": [
          14
        ],
        "priority": "medium",
        "subtasks": [
          {
            "id": 1,
            "title": "Migrate database: Rename line_numbers to ocr_results and create new line_numbers table",
            "description": "",
            "details": "",
            "status": "done",
            "dependencies": [],
            "parentTaskId": 15
          },
          {
            "id": 2,
            "title": "Create script to populate new line_numbers table from ocr_results and a ground-truth file output/extracted_piping_lines.txt",
            "description": "",
            "details": "",
            "status": "pending",
            "dependencies": [
              "15.1,15.5"
            ],
            "parentTaskId": 15
          },
          {
            "id": 3,
            "title": "Update FastAPI backend to serve data from the new line_numbers table",
            "description": "",
            "details": "",
            "status": "done",
            "dependencies": [
              "15.1"
            ],
            "parentTaskId": 15
          },
          {
            "id": 4,
            "title": "Update React frontend to fetch and display data from the new line_numbers table",
            "description": "",
            "details": "",
            "status": "pending",
            "dependencies": [
              "15.3"
            ],
            "parentTaskId": 15
          },
          {
            "id": 5,
            "title": "Populate ocr_results table with initial OCR data from data/pid_elements.json",
            "description": "",
            "details": "",
            "status": "done",
            "dependencies": [],
            "parentTaskId": 15
          },
          {
            "id": 6,
            "title": "Run population script to fill the new line_numbers table",
            "description": "",
            "details": "",
            "status": "pending",
            "dependencies": [
              "15.2"
            ],
            "parentTaskId": 15
          }
        ]
      },
      {
        "id": 16,
        "title": "Implement Interactive P&ID Frame with Pan and Zoom",
        "description": "Develop an interactive frame for P&ID diagrams with panning and zooming capabilities, maintaining A4 page size and interface element positions.",
        "details": "Create an interactive frame for P&ID (Piping and Instrumentation Diagram) that supports panning and zooming. The frame should be set to an A4 page size. Implement panning functionality using a 'hand' tool that allows users to click and drag the diagram. Implement zooming functionality using the mouse wheel and +/- buttons, ensuring that the zoom level can be reset to the default state with a reset button. Ensure that other interface elements such as lists and buttons retain their positions during these interactions. Adjust rectangle coordinates dynamically during zoom to maintain correct positioning. The default cursor should be a 'hand' over the diagram and an 'arrow' over rectangles.",
        "testStrategy": "Verify the frame is correctly sized to A4 dimensions. Test panning by dragging the diagram with the mouse and ensure smooth movement. Test zooming in and out using the mouse wheel and +/- buttons, and verify that the reset button returns the view to the original zoom level. Check that interface elements remain in place during interactions. Confirm that rectangle coordinates are recalculated correctly during zoom. Ensure the cursor changes appropriately between 'hand' and 'arrow' based on context.",
        "status": "done",
        "dependencies": [
          14
        ],
        "priority": "high",
        "subtasks": [
          {
            "id": 1,
            "title": "Create A4 Frame Container",
            "description": "Set up a container for the P&ID diagram with dimensions corresponding to an A4 page.",
            "dependencies": [],
            "details": "Use a suitable UI framework to create a container that matches the dimensions of an A4 page. Ensure the container can host the P&ID diagram and other interface elements.\n<info added on 2025-06-23T14:44:08.925Z>\n–°–æ–∑–¥–∞–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä A4 –¥–ª—è —Ñ—Ä–µ–π–º–∞ P&ID:\n\n**–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**\n- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç PDFFrame —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ A4 (794x1123px –ø—Ä–∏ 96 DPI)\n- –î–æ–±–∞–≤–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã\n- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π App.tsx –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\n- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π —Å Fabric.js canvas (—á—Ç–æ–±—ã canvas –º–æ–≥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–ª–∏–∫–∏ –ø–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º)\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–∞–∑–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –∫–Ω–æ–ø–∫–∞–º–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è\n\n**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**\n- A4 —Ä–∞–∑–º–µ—Ä—ã: 794px x 1123px (210mm x 297mm –ø—Ä–∏ 96 DPI)\n- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç overflow: hidden –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É PDFFrame –∏ Fabric.js —Å–æ–±—ã—Ç–∏—è–º–∏ –º—ã—à–∏\n- –°—Ç–∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —Å–≤–µ—Ç–ª—É—é –∏ —Ç–µ–º–Ω—É—é —Ç–µ–º—ã\n\n**–§–∞–π–ª—ã:**\n- app/src/components/PDFFrame.tsx - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\n- app/src/components/PDFFrame.css - —Å—Ç–∏–ª–∏\n- app/src/App.tsx - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º\n</info added on 2025-06-23T14:44:08.925Z>",
            "status": "done",
            "testStrategy": "Verify the container dimensions match A4 size and can host the diagram without overflow."
          },
          {
            "id": 2,
            "title": "Implement Panning Functionality",
            "description": "Enable panning of the P&ID diagram using a 'hand' tool for click-and-drag interaction.",
            "dependencies": [
              1
            ],
            "details": "Add event listeners for mouse down, move, and up events to allow users to drag the diagram. Change the cursor to a 'hand' when over the diagram.\n<info added on 2025-06-23T14:49:48.060Z>\n–ü—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã:\n1. –§—Ä–µ–π–º –±—ã–ª –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é A4 (1123x794px)\n2. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–æ–±—ã—Ç–∏–π –º—ã—à–∏\n\n–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:\n- –ò–∑–º–µ–Ω–µ–Ω—ã —Ä–∞–∑–º–µ—Ä—ã A4 –Ω–∞ landscape –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é (1123x794px)\n- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è document-level —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è\n- –£–±—Ä–∞–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ (—Ç–µ–ø–µ—Ä—å –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS transform)\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞–≤–∏—à Ctrl/Alt –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å canvas —Å–æ–±—ã—Ç–∏—è–º–∏\n- –£–ª—É—á—à–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ –¥–ª—è –∫—É—Ä—Å–æ—Ä–æ–≤\n\n–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:\n- document.addEventListener –¥–ª—è mousemove/mouseup –≤–æ –≤—Ä–µ–º—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è\n- CSS transform –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ pdf-frame-content\n- –ö—É—Ä—Å–æ—Ä: grab/grabbing —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –¥–ª—è canvas\n</info added on 2025-06-23T14:49:48.060Z>\n<info added on 2025-06-23T14:57:19.304Z>\nüîß –ò—Å–ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Ä–µ–∂–∏–º–æ–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤:\n\n**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∫–ª–∏–∫–µ –∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª—Å—è —Ä–µ–∂–∏–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ –≤–º–µ—Å—Ç–æ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è.\n\n**–†–µ—à–µ–Ω–∏–µ:**\n1. –î–æ–±–∞–≤–∏–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isPanning` –≤ App.tsx –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è\n2. –î–æ–±–∞–≤–∏–ª callback `onPanningChange` –≤ PDFFrame –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n3. –ò–∑–º–µ–Ω–∏–ª –ª–æ–≥–∏–∫—É —Ä–µ–∂–∏–º–∞ —Ä–∏—Å–æ–≤–∞–Ω–∏—è: `if (isDrawingMode && !isPanning)` - —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è\n4. –û—Ç–∫–ª—é—á–∏–ª –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∏–∫–æ–≤ canvas –≤–æ –≤—Ä–µ–º—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è: `if (isPanning) return;`\n5. –û–±–Ω–æ–≤–∏–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useEffect –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã\n\n**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**\n- PDFFrame —É–≤–µ–¥–æ–º–ª—è–µ—Ç App –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ callback\n- –†–µ–∂–∏–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∏ –∫–ª–∏–∫–∏ canvas –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è  \n- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏\n\n–¢–µ–ø–µ—Ä—å –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å —Ä–µ–∂–∏–º–æ–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è.\n</info added on 2025-06-23T14:57:19.304Z>\n<info added on 2025-06-23T15:05:24.613Z>\n‚úÖ –ü–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏!\n\n**–§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**\n1. **–£–±—Ä–∞–ª–∏ –∫–Ω–æ–ø–∫—É \"Draw Rectangle\"** –∏ –≤–µ—Å—å –∫–æ–¥ —Ä–µ–∂–∏–º–∞ —Ä–∏—Å–æ–≤–∞–Ω–∏—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤\n2. **–ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤—É—é –∫–Ω–æ–ø–∫—É –º—ã—à–∏** (button === 2)\n3. **–î–æ–±–∞–≤–∏–ª–∏ preventDefault –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é** —á—Ç–æ–±—ã –æ–Ω–æ –Ω–µ –ø–æ—è–≤–ª—è–ª–æ—Å—å –ø—Ä–∏ –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ\n4. **–ò–∑–º–µ–Ω–∏–ª–∏ –∫—É—Ä—Å–æ—Ä—ã:**\n   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `default` (—Å—Ç—Ä–µ–ª–∫–∞)\n   - –ù–∞–¥ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º–∏: `pointer` (—Ä—É–∫–∞ —Å –ø–∞–ª—å—Ü–µ–º)\n   - –ü—Ä–∏ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–∏: `grabbing` (—Å–∂–∞—Ç–∞—è —Ä—É–∫–∞)\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç:**\n- ‚úÖ –õ–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ - –∫–ª–∏–∫–∏ –ø–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤\n- ‚úÖ –ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ - –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã\n- ‚úÖ –ö–æ–ª–µ—Å–æ –º—ã—à–∏ - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ\n- ‚úÖ –ö–Ω–æ–ø–∫–∏ +/- –∏ —Å–±—Ä–æ—Å - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–æ–º\n- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏\n\n**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**\n- `onMouseDown` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π `e.button === 2`\n- `onContextMenu` —Å `preventDefault()`\n- –£–¥–∞–ª–µ–Ω –≤–µ—Å—å –∫–æ–¥ isDrawingMode –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ useEffect\n</info added on 2025-06-23T15:05:24.613Z>",
            "status": "done",
            "testStrategy": "Test panning by dragging the diagram in various directions and ensure smooth movement."
          },
          {
            "id": 3,
            "title": "Implement Zooming with Mouse Wheel",
            "description": "Enable zooming in and out of the P&ID diagram using the mouse wheel.",
            "dependencies": [
              1
            ],
            "details": "Attach event listeners to the mouse wheel to adjust the zoom level of the diagram. Ensure zooming is centered on the cursor position.",
            "status": "done",
            "testStrategy": "Test zooming in and out using the mouse wheel and verify the diagram scales correctly."
          },
          {
            "id": 4,
            "title": "Implement Zooming with Buttons",
            "description": "Add +/- buttons to control zooming of the P&ID diagram.",
            "dependencies": [
              1
            ],
            "details": "Create UI buttons for zooming in and out. Attach event handlers to these buttons to adjust the zoom level incrementally.",
            "status": "done",
            "testStrategy": "Test zooming functionality using the buttons and ensure consistent behavior with mouse wheel zooming."
          },
          {
            "id": 5,
            "title": "Implement Zoom Reset Button",
            "description": "Add a button to reset the zoom level to the default state.",
            "dependencies": [
              3,
              4
            ],
            "details": "Create a reset button and attach an event handler to set the zoom level back to the initial state.",
            "status": "done",
            "testStrategy": "Test the reset button to ensure it returns the diagram to the default zoom level."
          },
          {
            "id": 6,
            "title": "Adjust Rectangle Coordinates on Zoom",
            "description": "Ensure rectangle coordinates are dynamically adjusted during zoom to maintain correct positioning.",
            "dependencies": [
              3,
              4
            ],
            "details": "Implement logic to recalculate rectangle positions based on the current zoom level, ensuring they remain correctly aligned with the diagram.\n<info added on 2025-06-23T15:09:35.246Z>\n‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ + —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ PDF –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏!\n\n**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–æ PDF –Ω–µ —É–ª—É—á—à–∞–ª–æ—Å—å, —Ç–µ–∫—Å—Ç –±—ã–ª –Ω–µ—á–∏—Ç–∞–µ–º—ã–º.\n\n**–†–µ—à–µ–Ω–∏–µ:**\n1. **–î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `pdfScale`** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è PDF\n2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è PDF** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:\n   - `const newPdfScale = Math.min(Math.max(currentZoom, 1), 3)` \n   - –ú–∞—Å—à—Ç–∞–± PDF –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –æ—Ç 1x –¥–æ 3x –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç zoom\n3. **–ü–µ—Ä–µ–¥–∞—á–∞ `scale={pdfScale}` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Page** –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞\n4. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤** —Å —É—á–µ—Ç–æ–º –Ω–æ–≤–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞ PDF:\n   - `line.x_coord / scale * pdfScale` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ\n5. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `pdfScale` –≤ useEffect** –¥–ª—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç:**\n- ‚úÖ –ü—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–æ PDF –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∞–µ—Ç—Å—è\n- ‚úÖ –¢–µ–∫—Å—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —á–µ—Ç–∫–∏–º –∏ —á–∏—Ç–∞–µ–º—ã–º –ø—Ä–∏ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è  \n- ‚úÖ –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ —Ç–æ—á–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ PDF\n- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –±–µ–∑ —Å–∫–∞—á–∫–æ–≤\n\n**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**\n- useEffect —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –æ—Ç currentZoom –æ–±–Ω–æ–≤–ª—è–µ—Ç pdfScale\n- React-PDF Page –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π scale prop\n- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å —É—á–µ—Ç–æ–º pdfScale\n</info added on 2025-06-23T15:09:35.246Z>",
            "status": "done",
            "testStrategy": "Test by zooming in and out and verifying that rectangles maintain their relative positions."
          },
          {
            "id": 7,
            "title": "Maintain Interface Element Positions",
            "description": "Ensure that interface elements such as lists and buttons retain their positions during panning and zooming.",
            "dependencies": [
              2,
              3,
              4
            ],
            "details": "Use fixed positioning or similar techniques to keep interface elements static relative to the container.",
            "status": "done",
            "testStrategy": "Test panning and zooming to ensure interface elements do not move unexpectedly."
          },
          {
            "id": 8,
            "title": "Implement Cursor Management",
            "description": "Manage cursor changes between 'hand' over the diagram and 'arrow' over rectangles.",
            "dependencies": [
              2,
              6
            ],
            "details": "Add logic to switch the cursor style based on the current mouse position relative to the diagram and rectangles.",
            "status": "done",
            "testStrategy": "Test cursor changes by moving the mouse over different areas of the diagram and rectangles."
          }
        ]
      },
      {
        "id": 17,
        "title": "Add Touch Gesture Support for Mac and Windows Trackpads",
        "description": "Implement touch gesture support for trackpads on Mac and Windows, including two-finger panning and pinch-to-zoom, with device type auto-detection.",
        "details": "To enhance user interaction, implement touch gesture support for trackpads on both Mac and Windows systems. This includes enabling two-finger panning and pinch-to-zoom gestures. Begin by detecting the type of input device using platform-specific APIs or libraries. For Mac, consider using the NSEvent class for gesture recognition, and for Windows, explore the Windows.Devices.Input namespace. Ensure compatibility with existing mouse controls, where right-clicking allows panning. Integrate this functionality into the existing interactive frame developed in Task 16, ensuring seamless operation with the current panning and zooming features. Consider using a library like Hammer.js for cross-platform gesture recognition if applicable.",
        "testStrategy": "Test the implementation on both Mac and Windows systems. Verify that two-finger panning moves the diagram smoothly and that pinch-to-zoom adjusts the zoom level correctly. Ensure that the device type is correctly detected and that mouse controls (right-click for panning) remain functional. Conduct user testing to confirm intuitive gesture recognition and responsiveness. Additionally, test the integration with the existing interactive frame to ensure no conflicts or performance issues arise.",
        "status": "done",
        "dependencies": [
          16
        ],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 18,
        "title": "Add Mode Switch for Mouse/Touchpad Input",
        "description": "Implement a mode switch to toggle between mouse and touchpad input modes, ensuring correct gesture recognition on various devices.",
        "details": "To enhance input device compatibility, implement a mode switch that allows users to toggle between mouse and touchpad input modes. In touchpad mode, two-finger movements should trigger panning (wheel events) and pinch gestures should trigger zooming. In mouse mode, right-click should enable panning and the scroll wheel should control zooming. Address the specific issue with Huawei D16 touchpads where two-finger gestures are incorrectly recognized as wheel events. This may involve device-specific gesture recognition adjustments or overrides. Ensure the mode switch is easily accessible within the user interface, possibly as a toggle button or a settings option. Consider using platform-specific APIs to accurately detect and differentiate between input devices and their gestures, building upon the existing gesture support implemented in Task 17.",
        "testStrategy": "Test the mode switch functionality on various devices, including standard mice and touchpads, as well as specific models like the Huawei D16. Verify that in touchpad mode, two-finger gestures correctly trigger panning and pinch gestures trigger zooming. In mouse mode, ensure right-click enables panning and the scroll wheel adjusts zoom levels. Specifically test the Huawei D16 to confirm that two-finger gestures are not misinterpreted as wheel events. Ensure the mode switch is intuitive and functions correctly across different platforms.",
        "status": "done",
        "dependencies": [
          16,
          17
        ],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 19,
        "title": "Fix Pinch Gesture Handling in Touchpad Mode",
        "description": "Resolve issues with pinch gestures in touchpad mode by preventing browser zoom and correctly handling pinch events within PDF frames.",
        "details": "To address the pinch gesture issue in touchpad mode, first ensure that the browser's default zoom behavior is disabled. This can be achieved by adding a meta viewport tag with 'user-scalable=no' and setting maximum scale to 1. Additionally, implement CSS rules to prevent zooming, such as 'touch-action: none' on relevant elements. For handling pinch events within PDF frames, enhance the gesture detection logic to accurately differentiate between pinch and other gestures. This may involve using JavaScript libraries or APIs that provide more granular control over touch events. Ensure compatibility with existing gesture handling logic from Task 18 and Task 17, which implemented mode switching and touch gesture support.",
        "testStrategy": "Test the implementation by using a touchpad on various devices to perform pinch gestures within a PDF frame. Verify that the browser does not zoom and that the pinch gesture is correctly detected and handled within the frame. Ensure that the changes do not interfere with other touch gestures implemented in Task 17 and Task 18. Conduct tests on different browsers to ensure cross-browser compatibility.",
        "status": "done",
        "dependencies": [
          17,
          18
        ],
        "priority": "high",
        "subtasks": []
      }
    ],
    "metadata": {
      "created": "2025-06-21T07:11:24.410Z",
      "updated": "2025-06-23T15:41:44.528Z",
      "description": "Tasks for master context"
    }
  }
}